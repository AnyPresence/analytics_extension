%script{:src => "//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"}

%h1 Api Usage
- if @api_versions.blank?
  %h1 No usage data to generate.
  
.container
  = form_tag regenerate_path, :remote => true, :'data-update-chart' => 'chart' do
    = label_tag "API Version"
    %br
    - @api_versions.each do |version|
      = label_tag version
      = radio_button_tag "api_version", version.to_s
    - if !@api_versions.blank?
      = label_tag "Start Date"
      = text_field_tag "start_date"
      %br
      = label_tag "End Date"
      = text_field_tag "end_date"
      %br
    
    = submit_tag "Regenerate"
  
  - if !@metric.blank?
    = chart_tag(start_date: @start_date, end_date: @end_date)
  - else
    #visualization{:style => "width: 75%; height: 300px;"}
  

